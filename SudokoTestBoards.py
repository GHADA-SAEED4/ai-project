from SudokuBoard import SudokuBoard

def load_test_suite(size=None):
    """Returns a list of SudokuBoard puzzles for different grid sizes
    
    Args:
        size (int, optional): Grid size to filter (4, 6, or 9). 
                            If None, returns all puzzles.
    
    Returns:
        list: SudokuBoard puzzles
        - If size=4: Returns 15 puzzles for 4x4 (5 easy, 5 medium, 5 hard)
        - If size=6: Returns 15 puzzles for 6x6 (5 easy, 5 medium, 5 hard)
        - If size=9: Returns 15 puzzles for 9x9 (5 easy, 5 medium, 5 hard)
        - If size=None: Returns all 45 puzzles
    """
    puzzles = []

    # ========================================
    # ===== 15 Puzzles for 4x4 Grid =====
    # ========================================
    
    # ----- 5 Easy 4x4 Puzzles -----
    easy_4x4 = [
        [
            [1,2,0,0],
            [0,0,0,2],
            [2,0,0,0],
            [0,0,2,1]
        ],
        [
            [0,0,2,3],
            [0,3,0,0],
            [0,0,3,0],
            [3,2,0,0]
        ],
        [
            [3,0,0,2],
            [0,2,3,0],
            [0,3,2,0],
            [2,0,0,3]
        ],
        [
            [0,3,4,0],
            [4,0,0,3],
            [3,0,0,4],
            [0,4,3,0]
        ],
        [
            [2,0,0,1],
            [0,1,2,0],
            [0,2,1,0],
            [1,0,0,2]
        ]
    ]
    puzzles += [SudokuBoard(4, g) for g in easy_4x4]

    # ----- 5 Medium 4x4 Puzzles -----
    medium_4x4 = [
        [
            [0,0,0,4],
            [0,4,0,0],
            [0,0,4,0],
            [4,0,0,0]
        ],
        [
            [0,0,3,0],
            [3,0,0,2],
            [2,0,0,3],
            [0,3,0,0]
        ],
        [
            [0,2,0,0],
            [0,0,2,1], # Ù…Ù„Ù‡Ø§Ø´ Ø­Ù„
            [1,0,0,0],
            [0,0,1,0]
        ],
        [
            [4,0,0,0],
            [0,0,4,2],
            [2,4,0,0],
            [0,0,0,4]
        ],
        [
            [0,0,0,3],
            [0,3,1,0],
            [0,1,3,0],
            [3,0,0,0]
        ]
    ]
    puzzles += [SudokuBoard(4, g) for g in medium_4x4]

    # ----- 5 Hard 4x4 Puzzles -----
    hard_4x4 = [
        [
            [0,0,0,0],
            [0,0,0,3],
            [3,0,0,0],
            [0,0,0,0]
        ],
        [
            [0,0,4,0],
            [0,0,0,0],
            [0,0,0,0],
            [0,4,0,0]
        ],
        [
            [0,0,0,2],
            [0,0,0,0],
            [0,0,0,0],
            [2,0,0,0]
        ],
        [
            [1,0,0,0],
            [0,0,0,0],
            [0,0,0,0],
            [0,0,0,1]
        ],
        [
            [0,0,0,0],
            [0,0,0,0],
            [0,0,0,0],
            [0,0,0,0]
        ]
    ]
    puzzles += [SudokuBoard(4, g) for g in hard_4x4]

    # ========================================
    # ===== 15 Puzzles for 6x6 Grid =====
    # ========================================
    
    # ----- 5 Easy 6x6 Puzzles -----
    easy_6x6 = [
        [
            [0,0,6,1,0,0],
            [1,0,0,0,0,6],
            [0,4,1,6,0,0],
            [0,0,5,2,1,0],
            [5,0,0,0,0,1],
            [0,0,4,5,0,0]
        ],
        [
            [0,3,0,0,5,0],
            [5,0,0,0,0,3],
            [0,0,5,3,0,0],
            [0,0,3,5,0,0],
            [3,0,0,0,0,5],
            [0,5,0,0,3,0]
        ],
        [
            [6,0,0,0,0,4],
            [0,4,0,0,6,0],
            [0,0,4,6,0,0],
            [0,0,6,4,0,0],
            [0,6,0,0,4,0],
            [4,0,0,0,0,6]
        ],
        [
            [0,2,0,0,1,0],
            [1,0,0,0,0,2],
            [0,0,1,2,0,0],
            [0,0,2,1,0,0],
            [2,0,0,0,0,1],
            [0,1,0,0,2,0]
        ],
        [
            [5,0,0,0,0,3],
            [0,3,5,0,0,0],
            [0,0,3,5,0,0],
            [0,0,5,3,0,0],
            [0,0,0,0,3,5], #this last column 
            [3,0,0,0,0,5] #this last column 
        ]
    ]
    puzzles += [SudokuBoard(6, g) for g in easy_6x6]

    # ----- 5 Medium 6x6 Puzzles -----
    medium_6x6 = [
        [
            [0,0,0,4,0,0],
            [0,4,0,0,0,5],
            [5,0,0,0,4,0],
            [0,5,0,0,0,4],
            [4,0,0,0,5,0], #first 3*2 grid 4 repeated
            [0,0,4,0,0,0]
        ],
        [
            [0,0,6,0,0,0], #this third posotion 6 repeated
            [0,0,0,6,2,0],
            [0,2,0,0,6,0],
            [0,6,0,0,2,0],
            [0,2,6,0,0,0],#this third posotion 6 repeated
            [0,0,0,2,0,0]
        ],
        [
            [0,0,0,0,3,0],
            [3,0,0,1,0,0],
            [0,1,0,0,0,3],
            [3,0,0,0,1,0], # Ø¯ÙŠ Ø®Ø±Ø¨Ø§Ù†Ø© ÙƒÙ„Ù‡Ø§ ðŸ˜‚
            [0,0,1,0,0,3],
            [0,3,0,0,0,0]
        ],
        [
            [0,0,5,0,0,0],
            [0,0,0,0,0,4],
            [4,0,0,5,0,0],#second 3*2 grid 5 repeated
            [0,0,4,0,0,5],
            [5,0,0,0,0,0],
            [0,0,0,4,0,0]
        ],
        [
            [0,6,0,0,0,0],
            [0,0,0,0,6,1],
            [1,0,0,6,0,0], #Ø¯ÙŠ Ø®Ø±Ø¨Ø§Ù†Ø© ÙƒÙ„Ù‡Ø§ ðŸ˜‚
            [0,0,6,0,0,1],
            [1,6,0,0,0,0],
            [0,0,0,0,1,0]
        ]
    ]
    puzzles += [SudokuBoard(6, g) for g in medium_6x6]

    # ----- 5 Hard 6x6 Puzzles -----
    hard_6x6 = [
        [
            [0,0,0,0,0,0],
            [0,0,0,3,0,0],
            [0,3,0,0,0,0],
            [0,0,0,0,3,0],
            [0,0,3,0,0,0],
            [0,0,0,0,0,0]
        ],
        [
            [0,0,0,0,5,0],
            [0,0,0,0,0,0],
            [0,0,5,0,0,0],
            [0,0,0,5,0,0],
            [0,0,0,0,0,0],
            [0,5,0,0,0,0]
        ],
        [
            [6,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,4],
            [4,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,6]
        ],
        [
            [0,0,0,2,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,2,0,0,0]
        ],
        [
            [0,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,0],
            [0,0,0,0,0,0]
        ]
    ]
    puzzles += [SudokuBoard(6, g) for g in hard_6x6]

    # ========================================
    # ===== 15 Puzzles for 9x9 Grid (UNCHANGED) =====
    # ========================================
    
    # ----- 5 Easy 9x9 Puzzles -----
    easy_boards = [
        [
            [5,3,0,0,7,0,0,0,0],
            [6,0,0,1,9,5,0,0,0],
            [0,9,8,0,0,0,0,6,0],
            [8,0,0,0,6,0,0,0,3],
            [4,0,0,8,0,3,0,0,1],
            [7,0,0,0,2,0,0,0,6],
            [0,6,0,0,0,0,2,8,0],
            [0,0,0,4,1,9,0,0,5],
            [0,0,0,0,8,0,0,7,9]
        ],
        [
            [0,2,0,6,0,8,0,0,0],
            [5,8,0,0,0,9,7,0,0],
            [0,0,0,0,4,0,0,0,0],
            [3,7,0,0,0,0,5,0,0],
            [6,0,0,0,0,0,0,0,4],
            [0,0,8,0,0,0,0,1,3],
            [0,0,0,0,2,0,0,0,0],
            [0,0,9,8,0,0,0,3,6],
            [0,0,0,3,0,6,0,9,0]
        ],
        #puzzle has a problem in fisrt column
        [
            [1,0,0,4,8,9,0,0,6],
            [7,3,0,0,0,0,0,4,0],
            [5,0,0,0,0,1,2,9,5], #this position 1
            [0,0,7,1,2,0,6,0,0],
            [5,0,0,7,0,3,0,0,8], #this position 1
            [0,0,6,0,9,5,7,0,0],
            [9,1,4,6,0,0,0,0,0],
            [0,2,0,0,0,0,0,3,7],
            [8,0,0,5,1,2,0,0,4]
        ],
        [
            [2,0,0,3,0,0,0,0,0],
            [8,0,4,0,6,0,0,0,3],
            [0,1,3,0,0,0,2,0,0],
            [0,0,0,0,0,7,0,0,0],
            [0,0,0,5,0,1,0,0,0],
            [0,0,0,6,0,0,0,0,0],
            [0,0,1,0,0,0,6,7,0],
            [3,0,0,0,2,0,1,0,4],
            [0,0,0,0,0,6,0,0,2]
        ],
        [
            [0,0,2,0,0,0,0,6,3],
            [3,0,0,0,0,5,4,0,1],
            [0,0,1,0,0,3,9,8,0],
            [0,0,0,0,0,0,0,9,0],
            [0,0,0,5,3,8,0,0,0],
            [0,3,0,0,0,0,0,0,0],
            [0,2,6,3,0,0,5,0,0],
            [5,0,3,7,0,0,0,0,9],
            [1,4,0,0,0,0,6,0,0]
        ],
    ]
    puzzles += [SudokuBoard(9, g) for g in easy_boards]

    # ----- 5 Medium 9x9 Puzzles -----
    medium_boards = [
        [
            [0,0,0,6,0,0,4,0,0],
            [7,0,0,0,0,3,6,0,0],
            [0,0,0,0,9,1,0,8,0],
            [0,0,0,0,0,0,0,0,0],
            [0,5,0,1,8,0,0,0,3],
            [0,0,0,3,0,6,0,4,5],
            [0,4,0,2,0,0,0,6,0],
            [9,0,3,0,0,0,0,0,0],
            [0,2,0,0,0,0,1,0,0]
        ],
        [
            [0,0,4,0,0,0,8,0,0],
            [0,0,0,3,0,5,0,0,0],
            [0,0,7,0,6,0,3,0,0],
            [0,6,0,0,0,0,0,5,0],
            [0,0,0,0,9,0,0,0,0],
            [0,7,0,0,0,0,0,3,0],
            [0,0,3,0,5,0,7,0,0],
            [0,0,0,7,0,8,0,0,0],
            [0,0,5,0,0,0,6,0,0]
        ],
        [
            [0,0,0,0,0,7,0,0,9],
            [1,0,0,4,0,0,2,0,0],
            [0,0,5,0,0,0,0,0,0],
            [0,0,0,0,1,0,0,0,0],
            [0,3,0,0,0,0,0,8,0],
            [0,0,0,0,2,0,0,0,0],
            [0,0,0,0,0,0,1,0,0],
            [0,0,2,0,0,5,0,0,6],
            [4,0,0,1,0,0,0,0,0]
        ],
        [
            [0,0,0,0,0,0,0,1,2],
            [0,0,0,0,3,5,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,1,0,0,0,0,0,3,0],
            [0,0,0,7,0,8,0,0,0],
            [0,2,0,0,0,0,0,5,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,6,2,0,0,0,0],
            [7,4,0,0,0,0,0,0,0]
        ],
        #puzzle has a problem in second row
        [
            [0,0,0,0,1,0,0,0,0],
            [0,0,0,2,0,3,0,0,3], #this position 6 , 9
            [0,0,4,0,0,0,5,0,0],
            [0,3,0,0,0,0,0,7,0],
            [0,0,0,0,0,0,0,0,0],
            [0,5,0,0,0,0,0,2,0],
            [0,0,7,0,0,0,4,0,0],
            [0,0,0,1,0,5,0,0,0],
            [0,0,0,0,3,0,0,0,0]
        ]
    ]
    puzzles += [SudokuBoard(9, g) for g in medium_boards]

    # ----- 5 Hard 9x9 Puzzles -----
    hard_boards = [
        [
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,3,0,8,5],
            [0,0,1,0,2,0,0,0,0],
            [0,0,0,5,0,7,0,0,0],
            [0,0,4,0,0,0,1,0,0],
            [0,9,0,0,0,0,0,0,0],
            [5,0,0,0,0,0,0,7,3],
            [0,0,2,0,1,0,0,0,0],
            [0,0,0,0,4,0,0,0,9]
        ],
        #puzzle has a problem in rows and columns
        [
            [1,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [2,0,0,2,0,0,3,0,0], #this position 1 , 4
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,7,0,0,0,0], #this position 5
            [0,0,0,0,0,0,0,0,0],
            [0,0,8,0,0,5,0,0,0],
            [0,0,0,0,7,0,0,0,0], #this position 5
            [9,0,0,0,0,0,0,0,0]
        ],
        [
            [0,0,0,6,0,0,0,0,0],
            [0,0,0,0,0,0,0,1,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,8,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,2,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0]
        ],
        [
            [0,0,0,0,2,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,5,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,1,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,3],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0]
        ],
        [
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0]
        ]
    ]
    puzzles += [SudokuBoard(9, g) for g in hard_boards]

    # Filter by size if specified
    if size is not None:
        puzzles = [p for p in puzzles if p.size == size]
    
    return puzzles


def get_puzzles_by_size(size):
    """Returns puzzles filtered by grid size (4, 6, or 9)"""
    all_puzzles = load_test_suite()
    return [p for p in all_puzzles if p.size == size]


def get_puzzles_by_difficulty(difficulty):
    """Returns puzzles by difficulty level ('easy', 'medium', 'hard')
    Note: This function assumes puzzles are ordered as: easy, medium, hard for each size
    """
    all_puzzles = load_test_suite()
    
    difficulty_map = {'easy': 0, 'medium': 1, 'hard': 2}
    if difficulty.lower() not in difficulty_map:
        return []
    
    offset = difficulty_map[difficulty.lower()] * 5
    
    # Get puzzles for each size
    result = []
    for size_offset in [0, 15, 30]:  # 4x4, 6x6, 9x9
        start = size_offset + offset
        end = start + 5
        result.extend(all_puzzles[start:end])
    
    return result